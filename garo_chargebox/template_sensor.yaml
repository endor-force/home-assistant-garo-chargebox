  sensor:
      - unique_id: 'laddbox_chargingcurrent'
        name: 'Aktuell laddström'
        icon: mdi:flash-circle
        unit_of_measurement: 'A'
        state_class: measurement
        state: >
          {% set state = state_attr('sensor.laddbox', 'currentChargingCurrent')/1000 | round(1) %}
          {% if state >= 0 %}
            {{state}}
          {% else %}
            0,0
          {% endif %}

      - unique_id: 'laddbox_chargingpower'
        name: 'Aktuell förbrukning'
        icon: mdi:resistor
        unit_of_measurement: 'kW'
        state_class: measurement
        state: >
          {% set state = state_attr('sensor.laddbox', 'currentChargingPower')/1000 | round(1) %}
          {% if state >= 0 %}
            {{state}}
          {% else %}
            0,0
          {% endif %}

      - unique_id: 'laddbox_sessionenergy'
        name: 'Laddat sedan anslutning'
        icon: mdi:clock-start
        state: '{{ state_attr("sensor.laddbox", "accSessionEnergy")/1000 | round(1) }}'
        unit_of_measurement: 'kWh'
        state_class: measurement

      - unique_id: 'laddbox_totalconsumption'
        name: 'Total förbrukning'
        icon: mdi:gauge
        state: '{{ state_attr("sensor.laddbox", "latestReading")/1000 | round(1) }}'
        unit_of_measurement: 'kWh'
        state_class: measurement

      - unique_id: 'laddbox_temp'
        name: 'Laddbox temp'
        icon: mdi:thermometer
        state: '{{ state_attr("sensor.laddbox", "currentTemperature") }}'
        unit_of_measurement: '°C'
        state_class: measurement

      - unique_id: 'laddbox_chargerstatus'
        name: 'Laddbox status'
        state: >
          {# Enumerate and give the chargebox translation texts. #}
          {%-
            set box_status = {
              'CHARGING_FINISHED' : 'Klar',
              'CHARGING_CANCELLED' : 'Avbruten',
              'CHARGING_PAUSED' : 'Pausad av lastbalanserare',
              'NOT_CONNECTED' : 'Ej ansluten',
              'CONNECTED' : 'Ansluten',
              'SEARCH_COMM' : 'Ansluten - söker',
              'CHARGING' : 'Laddar',
              'RCD_FAULT' : 'Skyddsbrytare utlöst',
              'OVERHEAT' : 'Överhettad, begränsad',
              'CRITICAL_TEMPERATURE' : 'Kritisk temperatur',
              'INITIALIZATION' : 'Initierar',
              'CABLE_FAULT' : 'Kabelfel',
              'LOCK_FAULT' : 'Låsfel',
              'CONTACTOR_FAULT' : 'Kontaktfel',
              'VENT_FAULT' : 'Ventileringsfel',
              'DC_ERROR' : 'DC-fel',
              'DISABLED' : 'Inaktiverad',
              'UNAVAILABLE' : 'Laddning pausad (Master)',
              'REMOTE_DISABLED' : 'Externt deaktiverad',
              'DC_HARDWARE' : 'DC hårdvarufel',
              'CP_FAULT' : 'Kommunikationsfel (CP-signal)',
              'CP_SHORTED' : 'Kommunikationsfel (CP-kortsluten)'
            }
          -%}

          {# Get the box status from the attribute connector #}
          {% set status = state_attr('sensor.laddbox','connector') %}

          {#- Check if the status is translated and return the translated text.
          If a translation is not found then status text will be raw status text. -#}
          {% if box_status.get(status) %}
            {{box_status.get(status)}}
          {% else %}
            {{status}}
          {% endif %}